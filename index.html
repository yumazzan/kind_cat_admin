<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KIND CAT - Image Setup</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Malgun Gothic', sans-serif;
            background: #1A1A1A;
            min-height: 100vh;
            color: #FFFFFF;
            padding: 40px 20px;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
        }

        .header {
            text-align: center;
            margin-bottom: 40px;
        }

        .logo {
            width: 80px;
            height: 80px;
            margin: 0 auto 20px;
            background: linear-gradient(135deg, #FFB3D9 0%, #B794F6 100%);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2.5em;
        }

        h1 {
            font-family: 'Courier New', monospace;
            letter-spacing: 3px;
            margin-bottom: 10px;
        }

        .subtitle {
            color: #C9395A;
            font-size: 1.1em;
        }

        .section {
            background: #2D3436;
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 30px;
            border: 2px solid #3D4446;
        }

        .section-title {
            color: #C9395A;
            font-size: 1.3em;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .image-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .image-card {
            background: #1A1A1A;
            border: 2px solid #3D4446;
            border-radius: 12px;
            padding: 15px;
            transition: all 0.3s ease;
        }

        .image-card:hover {
            border-color: #C9395A;
            transform: translateY(-5px);
        }

        .image-preview {
            width: 100%;
            aspect-ratio: 1;
            background: #3D4446;
            border-radius: 8px;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
            position: relative;
        }

        .image-preview img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .image-placeholder {
            color: #6C7A7D;
            text-align: center;
            font-size: 3em;
        }

        .image-info {
            margin-bottom: 10px;
        }

        .image-label {
            font-size: 0.85em;
            color: #6C7A7D;
            margin-bottom: 5px;
        }

        .image-value {
            font-size: 1.1em;
            color: #FFB3D9;
            font-weight: bold;
        }

        .upload-btn {
            width: 100%;
            padding: 10px;
            background: #C9395A;
            border: none;
            border-radius: 8px;
            color: white;
            font-size: 0.95em;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .upload-btn:hover {
            background: #7D1E3A;
            transform: translateY(-2px);
        }

        .input-field {
            width: 100%;
            background: #1A1A1A;
            border: 2px solid #3D4446;
            color: #FFFFFF;
            padding: 12px;
            border-radius: 8px;
            font-size: 0.95em;
            margin-bottom: 10px;
        }

        .input-field:focus {
            outline: none;
            border-color: #C9395A;
        }

        .help-text {
            background: rgba(201, 57, 90, 0.1);
            border: 1px solid #C9395A;
            border-radius: 10px;
            padding: 20px;
            margin-top: 20px;
            line-height: 1.8;
        }

        .help-text strong {
            color: #E8749B;
        }

        .code-block {
            background: #1A1A1A;
            padding: 15px;
            border-radius: 8px;
            margin: 15px 0;
            overflow-x: auto;
            font-family: 'Courier New', monospace;
            font-size: 0.9em;
            border: 1px solid #3D4446;
        }

        .copy-btn {
            padding: 8px 15px;
            background: #E8749B;
            border: none;
            border-radius: 6px;
            color: white;
            cursor: pointer;
            font-size: 0.9em;
            margin-top: 10px;
        }

        .copy-btn:hover {
            background: #C9395A;
        }

        .tab-buttons {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
        }

        .tab-btn {
            padding: 12px 25px;
            background: transparent;
            border: 2px solid #3D4446;
            border-radius: 8px;
            color: #FFFFFF;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .tab-btn.active {
            background: #C9395A;
            border-color: #C9395A;
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
        }

        .remove-btn {
            width: 100%;
            padding: 8px;
            background: transparent;
            border: 1px solid #C9395A;
            border-radius: 6px;
            color: #C9395A;
            font-size: 0.85em;
            cursor: pointer;
            margin-top: 5px;
        }

        .remove-btn:hover {
            background: rgba(201, 57, 90, 0.2);
        }

        .export-section {
            margin-top: 30px;
            text-align: center;
        }

        .export-btn {
            padding: 15px 40px;
            background: linear-gradient(135deg, #C9395A 0%, #7D1E3A 100%);
            border: none;
            border-radius: 12px;
            color: white;
            font-size: 1.1em;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .export-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(201, 57, 90, 0.3);
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <div class="logo">ğŸ±</div>
            <h1>KIND CAT</h1>
            <p class="subtitle">ì´ë¯¸ì§€ ë“±ë¡ ë° ê´€ë¦¬ ì‹œìŠ¤í…œ</p>
        </div>

        <div class="section">
            <div class="section-title">ğŸ“¸ ì¼ëŸ¬ìŠ¤íŠ¸ ì„¤ì •</div>
            
            <div class="tab-buttons">
                <button class="tab-btn active" onclick="switchTab('url')">URL ë°©ì‹</button>
                <button class="tab-btn" onclick="switchTab('upload')">íŒŒì¼ ì—…ë¡œë“œ</button>
            </div>

            <div id="url-tab" class="tab-content active">
                <div class="help-text">
                    <strong>URL ë°©ì‹ (ì¶”ì²œ)</strong><br>
                    â€¢ ì´ë¯¸ì§€ë¥¼ Imgur, Google Drive, ë˜ëŠ” ë‹¤ë¥¸ í˜¸ìŠ¤íŒ… ì„œë¹„ìŠ¤ì— ì—…ë¡œë“œ<br>
                    â€¢ ì´ë¯¸ì§€ì˜ ì§ì ‘ ë§í¬(URL)ë¥¼ ë³µì‚¬<br>
                    â€¢ ì•„ë˜ì—ì„œ ê° í˜¸ê°ë„ êµ¬ê°„ë³„ë¡œ URL ì…ë ¥<br>
                    â€¢ ì¥ì : íŒŒì¼ í¬ê¸° ì œí•œ ì—†ìŒ, ì‰¬ìš´ ê´€ë¦¬
                </div>
            </div>

            <div id="upload-tab" class="tab-content">
                <div class="help-text">
                    <strong>íŒŒì¼ ì—…ë¡œë“œ ë°©ì‹</strong><br>
                    â€¢ ì»´í“¨í„°ì—ì„œ ì´ë¯¸ì§€ íŒŒì¼ì„ ì§ì ‘ ì„ íƒ<br>
                    â€¢ Base64ë¡œ ì¸ì½”ë”©ë˜ì–´ HTMLì— ì§ì ‘ í¬í•¨<br>
                    â€¢ ì¥ì : ì™¸ë¶€ ì„œë²„ ë¶ˆí•„ìš”<br>
                    â€¢ ë‹¨ì : íŒŒì¼ì´ ì»¤ì§ˆ ìˆ˜ ìˆìŒ (ê¶Œì¥ í¬ê¸°: 500KB ì´í•˜)
                </div>
            </div>

            <div class="image-grid" id="image-grid">
                <!-- ì´ë¯¸ì§€ ì¹´ë“œë“¤ì´ ì—¬ê¸° í‘œì‹œë¨ -->
            </div>
        </div>

        <div class="section">
            <div class="section-title">âš™ï¸ ì„¤ì •ëœ ì´ë¯¸ì§€ êµ¬ì¡°</div>
            <div class="code-block" id="config-output">
// ì•„ì§ ì„¤ì •ëœ ì´ë¯¸ì§€ê°€ ì—†ìŠµë‹ˆë‹¤
            </div>
            <button class="copy-btn" onclick="copyConfig()">ì„¤ì • ë³µì‚¬í•˜ê¸°</button>
        </div>

        <div class="section">
            <div class="section-title">ğŸ“ ì‚¬ìš© ë°©ë²•</div>
            <div class="help-text">
                <strong>1ë‹¨ê³„: ì´ë¯¸ì§€ ì¤€ë¹„</strong><br>
                â€¢ ì´ 5ê°œì˜ ì¼ëŸ¬ìŠ¤íŠ¸ë¥¼ ì¤€ë¹„í•˜ì„¸ìš”<br>
                â€¢ ê° ì¼ëŸ¬ìŠ¤íŠ¸ëŠ” í˜¸ê°ë„ êµ¬ê°„ì— ë§ì¶° ë°°ì¹˜ë©ë‹ˆë‹¤<br><br>

                <strong>2ë‹¨ê³„: í˜¸ê°ë„ êµ¬ê°„ ì„¤ì •</strong><br>
                â€¢ ì´ë¯¸ì§€ 1: í˜¸ê°ë„ 20ì  ë‹¬ì„± ì‹œ<br>
                â€¢ ì´ë¯¸ì§€ 2: í˜¸ê°ë„ 40ì  ë‹¬ì„± ì‹œ<br>
                â€¢ ì´ë¯¸ì§€ 3: í˜¸ê°ë„ 60ì  ë‹¬ì„± ì‹œ<br>
                â€¢ ì´ë¯¸ì§€ 4: í˜¸ê°ë„ 80ì  ë‹¬ì„± ì‹œ<br>
                â€¢ ì´ë¯¸ì§€ 5: í˜¸ê°ë„ 100ì  ë‹¬ì„± ì‹œ<br><br>

                <strong>3ë‹¨ê³„: ì´ë¯¸ì§€ ë“±ë¡</strong><br>
                â€¢ URL ë°©ì‹: ì´ë¯¸ì§€ í˜¸ìŠ¤íŒ… ì‚¬ì´íŠ¸ì— ì—…ë¡œë“œ í›„ URL ì…ë ¥<br>
                â€¢ íŒŒì¼ ì—…ë¡œë“œ: ì§ì ‘ ì´ë¯¸ì§€ íŒŒì¼ ì„ íƒ<br><br>

                <strong>4ë‹¨ê³„: ì„¤ì • ë³µì‚¬ ë° ì ìš©</strong><br>
                â€¢ "ì„¤ì • ë³µì‚¬í•˜ê¸°" ë²„íŠ¼ í´ë¦­<br>
                â€¢ ë©”ì¸ HTML íŒŒì¼ì˜ IMAGE_CONFIG ë¶€ë¶„ì— ë¶™ì—¬ë„£ê¸°<br>
                â€¢ ì™„ë£Œ!
            </div>
        </div>

        <div class="export-section">
            <button class="export-btn" onclick="generateHTMLWithImages()">
                ì™„ì„±ëœ HTML ë‹¤ìš´ë¡œë“œ
            </button>
        </div>
    </div>

    <script>
        const IMAGE_SLOTS = [
            { id: 1, threshold: 20, name: "ì²« ë§Œë‚¨", description: "í˜¸ê°ë„ 20ì " },
            { id: 2, threshold: 40, name: "ì¹œë°€í•´ì§", description: "í˜¸ê°ë„ 40ì " },
            { id: 3, threshold: 60, name: "ì„¤ë ˆëŠ” ìˆœê°„", description: "í˜¸ê°ë„ 60ì " },
            { id: 4, threshold: 80, name: "ê¹Šì–´ì§€ëŠ” ê´€ê³„", description: "í˜¸ê°ë„ 80ì " },
            { id: 5, threshold: 100, name: "ì™„ì „í•œ ì‹ ë¢°", description: "í˜¸ê°ë„ 100ì " }
        ];

        let imageData = {};
        let currentTab = 'url';

        function switchTab(tab) {
            currentTab = tab;
            document.querySelectorAll('.tab-btn').forEach(btn => btn.classList.remove('active'));
            document.querySelectorAll('.tab-content').forEach(content => content.classList.remove('active'));
            
            if (tab === 'url') {
                document.querySelector('.tab-btn:nth-child(1)').classList.add('active');
                document.getElementById('url-tab').classList.add('active');
            } else {
                document.querySelector('.tab-btn:nth-child(2)').classList.add('active');
                document.getElementById('upload-tab').classList.add('active');
            }
            
            renderImageGrid();
        }

        function renderImageGrid() {
            const grid = document.getElementById('image-grid');
            grid.innerHTML = '';

            IMAGE_SLOTS.forEach(slot => {
                const card = document.createElement('div');
                card.className = 'image-card';
                
                const hasImage = imageData[slot.id];
                
                card.innerHTML = `
                    <div class="image-preview">
                        ${hasImage ? 
                            `<img src="${imageData[slot.id]}" alt="Image ${slot.id}">` :
                            `<div class="image-placeholder">ğŸ”’</div>`
                        }
                    </div>
                    <div class="image-info">
                        <div class="image-label">${slot.name}</div>
                        <div class="image-value">${slot.description}</div>
                    </div>
                    ${currentTab === 'url' ? `
                        <input 
                            type="text" 
                            class="input-field" 
                            placeholder="ì´ë¯¸ì§€ URL ì…ë ¥"
                            value="${hasImage || ''}"
                            onchange="updateImageURL(${slot.id}, this.value)"
                        >
                    ` : `
                        <input 
                            type="file" 
                            accept="image/*" 
                            style="display: none;" 
                            id="file-${slot.id}"
                            onchange="handleFileUpload(${slot.id}, this)"
                        >
                        <button class="upload-btn" onclick="document.getElementById('file-${slot.id}').click()">
                            ${hasImage ? 'ì´ë¯¸ì§€ ë³€ê²½' : 'ì´ë¯¸ì§€ ì—…ë¡œë“œ'}
                        </button>
                    `}
                    ${hasImage ? `
                        <button class="remove-btn" onclick="removeImage(${slot.id})">ì œê±°</button>
                    ` : ''}
                `;
                
                grid.appendChild(card);
            });

            updateConfigOutput();
        }

        function updateImageURL(id, url) {
            if (url.trim()) {
                imageData[id] = url.trim();
            } else {
                delete imageData[id];
            }
            renderImageGrid();
        }

        function handleFileUpload(id, input) {
            const file = input.files[0];
            if (!file) return;

            if (file.size > 1024 * 1024) { // 1MB
                alert('íŒŒì¼ í¬ê¸°ê°€ ë„ˆë¬´ í½ë‹ˆë‹¤. 1MB ì´í•˜ì˜ ì´ë¯¸ì§€ë¥¼ ì‚¬ìš©í•´ì£¼ì„¸ìš”.');
                return;
            }

            const reader = new FileReader();
            reader.onload = function(e) {
                imageData[id] = e.target.result;
                renderImageGrid();
            };
            reader.readAsDataURL(file);
        }

        function removeImage(id) {
            delete imageData[id];
            renderImageGrid();
        }

        function updateConfigOutput() {
            const config = {
                images: IMAGE_SLOTS.map(slot => ({
                    id: slot.id,
                    threshold: slot.threshold,
                    name: slot.name,
                    url: imageData[slot.id] || null
                }))
            };

            const output = document.getElementById('config-output');
            output.textContent = `const IMAGE_CONFIG = ${JSON.stringify(config, null, 2)};`;
        }

        function copyConfig() {
            const output = document.getElementById('config-output');
            navigator.clipboard.writeText(output.textContent).then(() => {
                alert('ì„¤ì •ì´ í´ë¦½ë³´ë“œì— ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤!');
            });
        }

        function generateHTMLWithImages() {
            if (Object.keys(imageData).length === 0) {
                alert('ë¨¼ì € ì´ë¯¸ì§€ë¥¼ ë“±ë¡í•´ì£¼ì„¸ìš”!');
                return;
            }

            const config = {
                images: IMAGE_SLOTS.map(slot => ({
                    id: slot.id,
                    threshold: slot.threshold,
                    name: slot.name,
                    url: imageData[slot.id] || null
                }))
            };

            // ë©”ì¸ HTML ìƒì„± (ê°„ë‹¨í•œ ë²„ì „)
            const html = `
<!-- KIND CAT ì´ë¯¸ì§€ ì„¤ì • -->
<!-- ì´ ë¶€ë¶„ì„ ë©”ì¸ HTMLì˜ <script> íƒœê·¸ ì•ˆì— ì¶”ê°€í•˜ì„¸ìš” -->

const IMAGE_CONFIG = ${JSON.stringify(config, null, 2)};

// ê°¤ëŸ¬ë¦¬ì—ì„œ ì´ë¯¸ì§€ í‘œì‹œ í•¨ìˆ˜ ìˆ˜ì •
function renderGallery() {
    const gallery = document.getElementById('gallery-container');
    gallery.innerHTML = '';
    
    IMAGE_CONFIG.images.forEach(img => {
        const isUnlocked = affectionScore >= img.threshold;
        const slot = document.createElement('div');
        slot.className = \`image-slot \${isUnlocked ? 'unlocked' : 'locked'}\`;
        
        if (isUnlocked && img.url) {
            slot.innerHTML = \`<img src="\${img.url}" alt="\${img.name}">\`;
        } else {
            slot.innerHTML = \`
                <div class="lock-icon">ğŸ”’</div>
                <div class="unlock-text">\${img.threshold}ì </div>
            \`;
        }
        
        gallery.appendChild(slot);
    });
}
`;

            const blob = new Blob([html], { type: 'text/html' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'kind-cat-image-config.txt';
            a.click();
            URL.revokeObjectURL(url);

            alert('ì„¤ì • íŒŒì¼ì´ ë‹¤ìš´ë¡œë“œë˜ì—ˆìŠµë‹ˆë‹¤!\n\në©”ì¸ HTML íŒŒì¼ì— ì´ ë‚´ìš©ì„ ì¶”ê°€í•˜ì„¸ìš”.');
        }

        // ì´ˆê¸° ë Œë”ë§
        renderImageGrid();
    </script>
</body>
</html>
